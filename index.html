<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Desiderata by Max Ehrmann</title>
    <link rel="stylesheet" href="/regala_wordsInMotion/css/style.css">
        <link href="https://fonts.googleapis.com/css?family=Calligraffitti&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Quattrocento&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Bangers&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Faster+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Klee+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Swanky+and+Moo+Moo&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Impact&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Amatic+SC&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Finger+Paint&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Dokdo&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Homemade+Apple&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch&display=swap" rel="stylesheet">
    </head>

<body>      
    <div class="cover-page">
        <h1 class="clickable-title" id="trigger-desiderata">Desiderata</h1>     
        <p>by Max Ehrmann, 1927</p>
        <p class="subheading">A Visual Poem</p>
    </div>
    <div class="poem">
        <section class="sentences" id="pt1">
            <p>Go 
            <span class="aw1">
                <span>p</span><span>l</span><span>a</span><span>c</span><span>i</span><span>d</span><span>l</span><span>y</span>
            </span>
            </p>
            <p>amid the <span class="aw2">noise</span></p>
            <p>and the
                <span class="aw3" id="animate-haste">
                <span class="h">h</span>
                <span class="a">a</span>
                <span class="s">s</span>
                <span class="t">t</span>
                <span class="e">e</span>
                </span>
            </p>
        </section>
        <section class="sentences" id="pt2">
            <p>and remember what 
                <span class="aw4">
                    <span class="p">p</span>
                    <span class="e1">e</span>
                    <span class="a">a</span>
                    <span class="c">c</span>
                    <span class="e2">e</span>
                </span>
            </p>
            <p>there may be in 
                <span class="aw5">
                    <span>s</span>
                    <span>i</span>
                    <span>l</span>
                    <span>e</span>
                    <span>n</span>
                    <span>c</span>
                    <span>e</span>
                </span>
            </p>
        </section>
        <section class="sentences" id="pt7">
            <p>If you compare yourself with others, you may become <span class="aw12">vain</span> or 
            <span class="aw13">
                <span>b</span><span>i</span><span>t</span><span>t</span><span>e</span><span>r</span>
            </span>, for always there will be greater and lesser persons than yourselfâ€¦</p>
        </section>
        <section class="sentences" id="pt8">
            <p><span class="aw14">Be yourself.</span></p>
        </section>
        <section class="sentences" id="pt9">
            <p>Especially do not feign affection...Many fears are born of 
                <span class="aw15">
                    <span>f</span><span>a</span><span>t</span><span>i</span><span>g</span><span>u</span><span>e</span> 
                </span>
                    and 
                <span class="aw16">
                    <span>l</span><span>o</span><span>n</span><span>e</span><span>l</span><span>i</span><span>n</span><span>e</span><span>s</span><span>s</span> 
                </span>.
            </p>
        </section>
        <section class="sentences" id="pt10">
            <p>
                Beyond a wholesome discipline, be 
                <span class="aw17">
                    <span>g</span><span>e</span><span>n</span><span>t</span><span>l</span><span>e</span>
                </span> with yourself...
            </p>
        </section>
        <section class="sentences" id="pt11">
            <p>With all its <span class="aw18">sham</span></p>
        </section>
        <section class="sentences" id="pt12">
            <p><span class="aw19">drudgery</span></p>
        </section>
        <section class="sentences" id="pt13">
            <p>and<span class="aw20">broken dreams</span></p>
        </section>
        <section class="sentences" id="pt14">
            <p>it is still a <span class="aw21">beautiful world</span>.</p>
        </section>
    </div>

<script>
document.getElementById('trigger-desiderata').addEventListener('click', function() {
    const poem = document.querySelector('.poem');
    const scrollInterval = setInterval(function() {
        const position = window.pageYOffset;
        const distance = poem.offsetTop - position;
        const increment = distance / 20;

        if (Math.abs(distance) < 1) {
            window.scrollTo(0, poem.offsetTop);
            clearInterval(scrollInterval);
        } else {
            window.scrollBy(0, increment);
        }
    }, 20);
});

document.getElementById('animate-haste').addEventListener('mouseover', function() {
    this.classList.add('activatable');
});

document.getElementById('animate-haste').addEventListener('click', function() {
    if (this.classList.contains('activatable')) {
        this.classList.toggle('clicked');
        this.querySelectorAll('span').forEach(span => {
            if (this.classList.contains('clicked')) {
                span.style.animation = 'sideToSideDownward 2s ease-in-out forwards';
            } else {
                span.style.animation = 'none';
                setTimeout(() => {
                    span.style.animation = ''; 
                }, 10);
            }
        });
    }
});

function smoothScrollTo(element, duration) {
  const startPosition = window.pageYOffset;
  const endPosition = element.getBoundingClientRect().top + window.pageYOffset;
  const distance = endPosition - startPosition;
  let startTime = null;

  function animation(currentTime) {
    if (startTime === null) startTime = currentTime;
    const timeElapsed = currentTime - startTime;
    const nextScrollPosition = easeInOutQuad(timeElapsed, startPosition, distance, duration);
    window.scrollTo(0, nextScrollPosition);
    if (timeElapsed < duration) {
      requestAnimationFrame(animation);
    }
  }

  function easeInOutQuad(t, b, c, d) {
    t /= d / 2;
    if (t < 1) return c / 2 * t * t + b;
    t--;
    return -c / 2 * (t * (t - 2) - 1) + b;
  }

  requestAnimationFrame(animation);
}

function scrollToNextSection(element) {
    const nextSection = element.closest('.sentences').nextElementSibling;
    if (nextSection) {
        smoothScrollTo(nextSection, 2000);
    }
}

document.querySelectorAll('.aw3, .aw5, .aw13, #pt8, .aw16').forEach(function(element) {
    element.addEventListener('click', function() {
        this.style.color = 'red';
        scrollToNextSection(this);
    });
});

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('bitter').addEventListener('click', function() {
        const spans = this.querySelectorAll('span');
        spans.forEach((span, index) => {
            setTimeout(() => {
                span.style.transition = 'transform 2s ease, opacity 2s ease';
                span.style.transform = 'translateY(500px)';
                span.style.opacity = '0';
            }, index * 100);
        });
    });
});


</script>

</body>
</html>